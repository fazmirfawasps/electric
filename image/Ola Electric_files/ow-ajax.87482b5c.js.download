"use strict";Vue.component("ow-ajax",{render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[],name:"ow-ajax",props:["method","url","body","params","trigger","headers"],methods:{rxReadCookie:function(e){e=new RegExp(e+"=([^;]+)\\;?","i").exec(document.cookie?unescape(document.cookie):"");return e?e[1]:""},responseHandler:function(t,s,e){var r=!1;switch(e.toLowerCase()){case"post":case"put":r=200===s.status||201===s.status||202===s.status;break;case"get":case"delete":r=200===s.status}try{r?t.$emit("success",{response:JSON.parse(s.response),status:s.status}):t.$emit("error",{xhr:s})}catch(e){t.$emit("error",{xhr:s})}},makeXHR:function(){var r=this,e=this,t=Object.keys(this.params||{}).reduce(function(e,t,s){return 0===s?e+"?"+t+"="+r.params[t]:e+"&"+t+"="+r.params[t]},this.url),s=this.method||"GET",a=new XMLHttpRequest,n=(a.open(s||"GET",t),a.timeout=18e3,{"X-Requested-With":"XMLHttpRequest","csrf-token":this.rxReadCookie("XSRF-TOKEN"),"Content-Type":"application/json"});this.headers&&Object.keys(this.headers).forEach(function(e){return n[e]=r.headers[e]}),Object.keys(n).forEach(function(e){return a.setRequestHeader(e,n[e])}),a.addEventListener("readystatechange",function(){this.readyState===XMLHttpRequest.DONE&&e.responseHandler(e,this,s)}),a.send(JSON.stringify(this.body))}},mounted:function(){this.trigger&&this.makeXHR()},watch:{trigger:function(e){e&&this.makeXHR()}}});
//# sourceMappingURL=../sourcemap/ow-components/ow-ajax.87482b5c.js.map
